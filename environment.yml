name: rsan_env
channels:
  - pytorch
  - conda-forge
  - defaults

dependencies:
  # ======================================================
  # 1. CORE PYTHON
  # ======================================================
  - python=3.10
  - pip

  # ======================================================
  # 2. PYTORCH STACK (cross-platform, SAFE)
  # ------------------------------------------------------
  # cpuonly = prevents GPU / architecture mismatch crashes
  # torchvision 0.20.1 = correct for PyTorch 2.5.1
  # ======================================================
  - cpuonly
  - pytorch=2.5.1
  - torchvision=0.20.1
  - torchaudio=2.5.1

  # ======================================================
  # 3. SCIENTIFIC STACK
  # ======================================================
  - numpy=2.2.6
  - scipy=1.14.1
  - scikit-learn=1.5.2
  - scikit-image=0.25.2
  - pandas=2.2.3
  - matplotlib=3.10.7
  - tqdm=4.66.5

  # ======================================================
  # 4. COMPUTER VISION
  # ------------------------------------------------------
  # opencv from conda is 100Ã— safer than pip wheels
  # avoids segmentation faults on Intel Macs
  # ======================================================
  - pillow=10.4.0
  - opencv

  # ======================================================
  # 5. DATABASE (MongoDB)
  # ======================================================
  - pymongo=4.9.2
  - mongoengine=0.29.1
  - motor=3.6.1

  # ======================================================
  # 6. PIP-ONLY PACKAGES (pinned for safety)
  # ======================================================
  - pip:
      # -------------------------------------
      # YOLO STACK
      # -------------------------------------
      - ultralytics==8.3.228
      - ultralytics-thop==2.0.18

      # -------------------------------------
      # FIFTYONE ECOSYSTEM
      # -------------------------------------
      - fiftyone==1.8.1
      - fiftyone-brain==0.21.4
      - fiftyone_db==1.4.0
      - voxel51-eta==0.15.1

      # -------------------------------------
      # LLM / OPENAI SDK
      # -------------------------------------
      - openai==1.53.0
      - python-dotenv==1.0.1
      - httpx==0.28.1
      - requests==2.32.3

      # -------------------------------------
      # YAML + JSON
      # -------------------------------------
      - pyyaml==6.0.2
      - jsonlines==4.0.0
      - tabulate==0.9.0

      # -------------------------------------
      # Vision / Misc Utilities
      # -------------------------------------
      - ftfy==6.3.1
      - imageio==2.37.2
      - rtree==1.4.1

      # -------------------------------------
      # DEVELOPMENT (linting + formatting)
      # -------------------------------------
      - black==25.11.0
      - flake8==7.3.0
      - ruff==0.7.0
      - rich==13.9.2